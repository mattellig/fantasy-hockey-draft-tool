var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,l,s)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[l]=s,o=(e,t)=>{for(var l in t||(t={}))r.call(t,l)&&n(e,l,t[l]);if(s)for(var l of s(t))a.call(t,l)&&n(e,l,t[l]);return e},i=(e,s)=>t(e,l(s));"undefined"!=typeof require&&require;import{r as c,c as p,T as g,D as m,X as u,P as x,U as d,C as h,a as f}from"./vendor.bd57000c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const E=e=>p("large"===e?"h-9 w-9":"h-4 w-4","animate-spin"),y=({size:e})=>c.exports.createElement("svg",{className:E(e),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},c.exports.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.exports.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),v=e=>{const{children:t,disabled:l=!1,icon:s,loading:r=!1,onClick:a,primary:n=!1,submit:o=!1}=e,i=((e,t)=>p("relative inline-flex items-center justify-center px-3 py-2 rounded-md border border-transparent text-sm font-medium focus:outline-none focus:ring transition",t?"bg-blue-600 text-white hover:bg-blue-500 active:bg-blue-700 focus:ring-blue-300":"bg-gray-200 text-gray-700 hover:bg-gray-100 active:bg-gray-300 focus:ring-gray-400",e&&"opacity-50 cursor-not-allowed"))(l,n);return c.exports.createElement("button",{disabled:l,onClick:a,type:o?"submit":"button",className:i},r?c.exports.createElement("div",{className:"-ml-px mr-2"},c.exports.createElement(y,null)):s?c.exports.createElement("div",{className:"h-4 w-4 -ml-px mr-2"},s):null,t)},b=({children:e,onClick:t,url:l})=>c.exports.createElement("a",{href:l,onClick:t,className:"rounded text-blue-600 underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-blue-500"},e),P=e=>{const{children:t,onClose:l,open:s=!1,title:r}=e;return c.exports.createElement(g.Root,{show:s,as:c.exports.Fragment},c.exports.createElement(m,{as:"div",onClose:l,className:"fixed inset-0 z-40 overflow-y-auto"},c.exports.createElement("div",{className:"min-h-screen text-center"},c.exports.createElement(g.Child,{as:c.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},c.exports.createElement(m.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-50"})),c.exports.createElement("span",{className:"inline-block h-screen align-middle","aria-hidden":"true"},"â€‹"),c.exports.createElement(g.Child,{as:c.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},c.exports.createElement("div",{className:"relative inline-block w-full max-w-md bg-white rounded-xl shadow-2xl text-left align-middle"},c.exports.createElement("div",{className:"p-6"},c.exports.createElement(m.Title,{as:"h2",className:"pb-6 text-base font-bold leading-8 text-gray-800"},r),t),c.exports.createElement("button",{onClick:()=>l(!1),className:"absolute top-6 right-5 flex items-center justify-center w-8 h-8 rounded-full text-gray-500 hover:bg-gray-200 hover:text-gray-700 focus:outline-none focus:ring focus:ring-gray-300 transition","aria-label":"Close"},c.exports.createElement(u,{className:"h-5 w-5","aria-hidden":"true"})))))))};P.Section=({children:e})=>c.exports.createElement("div",{className:"pb-6 text-gray-700"},e),P.Footer=({children:e})=>c.exports.createElement("div",{className:"flex flex-row-reverse gap-2"},e);const C=({onCancel:e,onSelect:t,open:l})=>{const s=c.exports.useRef(null);return c.exports.createElement(P,{onClose:e,open:l,title:"Upload projection data"},c.exports.createElement("form",{onSubmit:e=>{e.preventDefault(),s.current&&s.current.files&&t(s.current.files[0])}},c.exports.createElement(P.Section,null,c.exports.createElement("ol",{className:"list-decimal list-inside text-gray-700"},c.exports.createElement("li",null,c.exports.createElement(b,{url:"/sample.csv"},"Download the sample.csv file")),c.exports.createElement("li",null,"Get projection data (season totals) from your favorite source (e.g. ESPN, Yahoo, etc.)"),c.exports.createElement("li",null,"Replace the sample data with your projections"),c.exports.createElement("li",null,"Upload the file here"))),c.exports.createElement(P.Section,null,c.exports.createElement("div",null,c.exports.createElement("label",{htmlFor:"file-input",className:"sr-only"},"Projection data"),c.exports.createElement("input",{accept:"text/csv",id:"file-input",onInput:()=>{var e;if(!s.current)return;s.current.setCustomValidity("");const t=null==(e=s.current.files)?void 0:e[0];if(!t)return;"csv"!==(t.name.substring(t.name.lastIndexOf(".")+1,t.name.length)||t.name)&&s.current.setCustomValidity("Please select a .csv file.")},ref:s,required:!0,type:"file",className:"w-full rounded-sm focus:outline-none focus:ring focus:ring-blue-300"}))),c.exports.createElement(P.Footer,null,c.exports.createElement(v,{primary:!0,submit:!0},"Load data"))))},w=({children:e,headings:t=[]})=>c.exports.createElement("div",{className:"relative overflow-hidden"},c.exports.createElement("div",{className:"overflow-x-auto"},c.exports.createElement("table",{className:"w-full"},c.exports.createElement("thead",null,c.exports.createElement("tr",null,t.map(((e,t)=>{const l=p("p-2 border-b text-xs font-medium text-gray-800",(!e.align||"left"===e.align)&&"text-left","right"===e.align&&"text-right","center"===e.align&&"text-center");return c.exports.createElement("th",{key:t,className:l},e.title)})))),c.exports.createElement("tbody",{className:"divide-y"},e))));w.Cell=({align:e,children:t,colSpan:l})=>c.exports.createElement("td",{align:e,colSpan:l,className:"p-2 text-sm whitespace-nowrap"},t),w.Row=({children:e})=>c.exports.createElement("tr",{className:"bg-white hover:bg-gray-50 transition-colors"},e);const S=[{title:"Name"},{title:"Team",align:"center"},{title:"Pos",align:"center"},{title:"FP",align:"right"},{title:"ADP",align:"right"},{title:"GP",align:"right"},{title:"G",align:"right"},{title:"A",align:"right"},{title:"PTS",align:"right"},{title:"+/-",align:"right"},{title:"PIM",align:"right"},{title:"PPG",align:"right"},{title:"PPA",align:"right"},{title:"PPP",align:"right"},{title:"GWG",align:"right"},{title:"SOG",align:"right"},{title:"FOW",align:"right"},{title:"FOL",align:"right"},{title:"HIT",align:"right"},{title:"BLK",align:"right"},{title:"W",align:"right"},{title:"L",align:"right"},{title:"GA",align:"right"},{title:"GAA",align:"right"},{title:"SV",align:"right"},{title:"SV%",align:"right"},{title:"SO",align:"right"}],G=({data:e,loadingMessage:t})=>c.exports.createElement(w,{headings:S},t?c.exports.createElement(w.Row,null,c.exports.createElement(w.Cell,{align:"center",colSpan:S.length},c.exports.createElement("div",{className:"flex items-center justify-center gap-2"},c.exports.createElement("div",{className:"text-blue-500"},c.exports.createElement(y,null)),c.exports.createElement("div",{className:"text-sm text-gray-500 animate-pulse"},t,"...")))):(null==e?void 0:e.length)?e.map((e=>c.exports.createElement(w.Row,{key:`${e.name}-${e.position}`},c.exports.createElement(w.Cell,null,e.name),c.exports.createElement(w.Cell,{align:"center"},e.team),c.exports.createElement(w.Cell,{align:"center"},e.position),c.exports.createElement(w.Cell,{align:"right"},e.fantasyPoints.toFixed(1)),c.exports.createElement(w.Cell,{align:"right"},e.averageDraftPosition),c.exports.createElement(w.Cell,{align:"right"},e.gamesPlayed),c.exports.createElement(w.Cell,{align:"right"},e.totals.goals),c.exports.createElement(w.Cell,{align:"right"},e.totals.assists),c.exports.createElement(w.Cell,{align:"right"},e.totals.points),c.exports.createElement(w.Cell,{align:"right"},e.totals.plusMinus),c.exports.createElement(w.Cell,{align:"right"},e.totals.penaltyMinutes),c.exports.createElement(w.Cell,{align:"right"},e.totals.powerplayGoals),c.exports.createElement(w.Cell,{align:"right"},e.totals.powerplayAssists),c.exports.createElement(w.Cell,{align:"right"},e.totals.powerplayPoints),c.exports.createElement(w.Cell,{align:"right"},e.totals.gameWinningGoals),c.exports.createElement(w.Cell,{align:"right"},e.totals.shotsOnGoal),c.exports.createElement(w.Cell,{align:"right"},e.totals.faceoffsWon),c.exports.createElement(w.Cell,{align:"right"},e.totals.faceoffsLost),c.exports.createElement(w.Cell,{align:"right"},e.totals.hits),c.exports.createElement(w.Cell,{align:"right"},e.totals.blocks),c.exports.createElement(w.Cell,{align:"right"},e.totals.wins),c.exports.createElement(w.Cell,{align:"right"},e.totals.losses),c.exports.createElement(w.Cell,{align:"right"},e.totals.goalsAgainst),c.exports.createElement(w.Cell,{align:"right"},e.totals.goalsAgainstAverage),c.exports.createElement(w.Cell,{align:"right"},e.totals.saves),c.exports.createElement(w.Cell,{align:"right"},e.totals.savePercentage),c.exports.createElement(w.Cell,{align:"right"},e.totals.shutouts)))):c.exports.createElement(w.Row,null,c.exports.createElement(w.Cell,{align:"center",colSpan:S.length},c.exports.createElement("p",{className:"text-sm text-gray-500"},"No results found.")))),A={scoring:{goals:!0,assists:!0,points:!1,plusMinus:!0,penaltyMinutes:!1,powerplayGoals:!1,powerplayAssists:!1,powerplayPoints:!0,gameWinningGoals:!1,shotsOnGoal:!0,faceoffsWon:!1,faceoffsLost:!1,hits:!0,blocks:!1,wins:!0,losses:!1,goalsAgainst:!1,goalsAgainstAverage:!0,saves:!1,savePercentage:!0,shutouts:!0}},k=c.exports.createContext(void 0),N=({children:e})=>{const[t,l]=c.exports.useState(A);c.exports.useEffect((()=>{const e=localStorage.getItem("fhdt-settings");if(e)try{l(JSON.parse(e))}catch(t){console.error("Error parsing local settings:",t)}}),[]);return c.exports.createElement(k.Provider,{value:[t,e=>{localStorage.setItem("fhdt-settings",JSON.stringify(e)),l(e)}]},e)},O=()=>{const e=c.exports.useContext(k);if(void 0===e)throw new Error("useSettings must be used within a SettingsProvider");return e},W=e=>{const[t,l]=c.exports.useState(e);return c.exports.useEffect((()=>{l(e)}),[e]),[t,l]},M=({checked:e=!1,label:t,onChange:l})=>{const[s,r]=W(e);return c.exports.createElement("label",{className:"inline-flex items-center py-1 cursor-pointer"},c.exports.createElement("input",{checked:s,onChange:e=>{r(e.target.checked),l&&l(e)},type:"checkbox",className:"h-[18px] w-[18px] mr-2 rounded-sm border-2 border-gray-500 cursor-pointer hover:border-gray-400 focus:ring-offset-1 transition"}),c.exports.createElement("span",{className:"text-sm text-gray-700"},t))},L=({onClose:e,open:t})=>{const[l,s]=O(),[r,a]=W(l);c.exports.useEffect((()=>{t&&a(l)}),[t]);const n=(e,t)=>{a(i(o({},r),{scoring:i(o({},r.scoring),{[t]:e.target.checked})}))};return c.exports.createElement(P,{onClose:e,open:t,title:"Scoring settings"},c.exports.createElement("form",{onSubmit:t=>{t.preventDefault(),s(r),e(!1)}},c.exports.createElement(P.Section,null,c.exports.createElement("div",{className:"grid grid-cols-2 gap-4"},c.exports.createElement("fieldset",null,c.exports.createElement("legend",{className:"mb-2 text-base font-medium text-gray-800"},"Skaters"),c.exports.createElement("ul",null,c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.goals,label:"Goals",onChange:e=>n(e,"goals")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.assists,label:"Assists",onChange:e=>n(e,"assists")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.points,label:"Points",onChange:e=>n(e,"points")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.plusMinus,label:"+/-",onChange:e=>n(e,"plusMinus")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.penaltyMinutes,label:"Penalty minutes",onChange:e=>n(e,"penaltyMinutes")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.powerplayGoals,label:"Powerplay goals",onChange:e=>n(e,"powerplayGoals")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.powerplayAssists,label:"Powerplay assists",onChange:e=>n(e,"powerplayAssists")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.powerplayPoints,label:"Powerplay points",onChange:e=>n(e,"powerplayPoints")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.gameWinningGoals,label:"Game-winning goals",onChange:e=>n(e,"gameWinningGoals")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.shotsOnGoal,label:"Shots on goal",onChange:e=>n(e,"shotsOnGoal")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.faceoffsWon,label:"Faceoffs won",onChange:e=>n(e,"faceoffsWon")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.faceoffsLost,label:"Faceoffs lost",onChange:e=>n(e,"faceoffsLost")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.hits,label:"Hits",onChange:e=>n(e,"hits")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.blocks,label:"Blocks",onChange:e=>n(e,"blocks")})))),c.exports.createElement("fieldset",null,c.exports.createElement("legend",{className:"mb-2 text-base font-medium text-gray-800"},"Goalies"),c.exports.createElement("ul",null,c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.wins,label:"Wins",onChange:e=>n(e,"wins")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.losses,label:"Losses",onChange:e=>n(e,"losses")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.goalsAgainst,label:"Goals against",onChange:e=>n(e,"goalsAgainst")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.goalsAgainstAverage,label:"Goals against average",onChange:e=>n(e,"goalsAgainstAverage")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.saves,label:"Saves",onChange:e=>n(e,"saves")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.savePercentage,label:"Save percentage",onChange:e=>n(e,"savePercentage")})),c.exports.createElement("li",null,c.exports.createElement(M,{checked:r.scoring.shutouts,label:"Shutouts",onChange:e=>n(e,"shutouts")})))))),c.exports.createElement(P.Footer,null,c.exports.createElement(v,{primary:!0,submit:!0},"Save changes"))))},F=["savePercentage","goalsAgainstAverage"],j=["faceoffsLost","goalsAgainstAverage","goalsAgainst","losses"],T={G:"goals",A:"assists",PTS:"points","+/-":"plusMinus",PIM:"penaltyMinutes",PPG:"powerplayGoals",PPA:"powerplayAssists",PPP:"powerplayPoints",GWG:"gameWinningGoals",SOG:"shotsOnGoal",FOW:"faceoffsWon",FOL:"faceoffsLost",HIT:"hits",BLK:"blocks",W:"wins",L:"losses",GA:"goalsAgainst",GAA:"goalsAgainstAverage",SV:"saves","SV%":"savePercentage",SO:"shutouts"},I={goals:"G",assists:"A",points:"PTS",plusMinus:"+/-",penaltyMinutes:"PIM",powerplayGoals:"PPG",powerplayAssists:"PPA",powerplayPoints:"PPP",gameWinningGoals:"GWG",shotsOnGoal:"SOG",faceoffsWon:"FOW",faceoffsLost:"FOL",hits:"HIT",blocks:"BLK",wins:"W",losses:"L",goalsAgainst:"GA",goalsAgainstAverage:"GAA",saves:"SV",savePercentage:"SV%",shutouts:"SO"},D=()=>{const[e,t]=c.exports.useState(),[l,s]=c.exports.useState(`${window.location.href}/sample.csv`),[r,a]=c.exports.useState([]),[n,o]=c.exports.useState(),[i,p]=c.exports.useState(),[g]=O();return c.exports.useEffect((()=>{o("Parsing data file"),x.parse(l,{complete:e=>{a(e.errors),p(e.errors.length?[]:e.data)},download:"string"==typeof l,dynamicTyping:!0,header:!0,worker:!0})}),[l]),c.exports.useEffect((()=>{if(!i)return;o("Calculating standard deviations");const e=Object.entries(g.scoring).reduce(((e,[t,l])=>(e[t]=l?((e,t)=>{if(0===e.length)return{avg:0,stdev:0};const l=e.filter((e=>null!==e[t])),s=l.length;if(0===s)return{avg:0,stdev:0};const r=l.reduce(((e,l)=>e+l[t]),0)/s,a=Math.sqrt(l.map((e=>Math.pow(e[t]-r,2))).reduce(((e,t)=>e+t))/s);return{avg:r,stdev:a}})(i,I[t]):0,e)),{});o("Calculating fantasy points");const l=i.map((t=>{const l=Object.entries(t),s=l.reduce(((t,[l,s])=>{const r=T[l];if(!r)return t;if(null!==s){const l=e[r];t[r]=l?(s-l.avg)/l.stdev*(j.includes(r)?-1:1):null}else t[r]=null;return t}),{});return{rank:0,name:t.Name,team:t.Team,position:t.Pos,fantasyPoints:Object.values(s).reduce(((e,t)=>t?e+t:e),0),valueOverReplacement:0,averageDraftPosition:t.ADP,difference:0,gamesPlayed:t.GP,averages:l.reduce(((e,[l,s])=>{const r=T[l];return r?(null!==s&&null!==t.GP&&t.GP>0&&!F.includes(r)?e[r]=s/t.GP:e[r]=s,e):e}),{}),totals:{goals:t.G,assists:t.A,points:t.PTS,plusMinus:t["+/-"],penaltyMinutes:t.PIM,powerplayGoals:t.PPG,powerplayAssists:t.PPA,powerplayPoints:t.PPP,gameWinningGoals:t.GWG,shotsOnGoal:t.SOG,faceoffsWon:t.FOW,faceoffsLost:t.FOL,hits:t.HIT,blocks:t.BLK,wins:t.W,losses:t.L,goalsAgainst:t.GA,goalsAgainstAverage:t.GAA,saves:t.SV,savePercentage:t["SV%"],shutouts:t.SO},zScores:s}}));t(l),o(void 0)}),[i,g]),{data:e,errors:r,loadingMessage:n,setDataSource:s}},V=()=>{const[e,t]=c.exports.useState(!1),[l,s]=c.exports.useState(!1),{data:r,errors:a,loadingMessage:n,setDataSource:o}=D();return c.exports.createElement("div",{className:"flex flex-col"},c.exports.createElement("div",{className:"flex justify-end p-6 space-x-2"},c.exports.createElement(v,{icon:c.exports.createElement(d,null),onClick:()=>t(!0)},"Upload"),c.exports.createElement(v,{icon:c.exports.createElement(h,null),onClick:()=>s(!0)},"Settings")),a.length>0?c.exports.createElement("div",{role:"status",className:"p-4 bg-red-50 rounded-xl text-sm text-red-600"},c.exports.createElement("p",null,"Sorry, there was an error processing your data. Please make sure your data file matches the structure of the sample file provided.")):null,c.exports.createElement(G,{data:r,loadingMessage:n}),c.exports.createElement(C,{onCancel:t,onSelect:e=>{o(e),t(!1)},open:e}),c.exports.createElement(L,{onClose:s,open:l}))};f.exports.render(c.exports.createElement(c.exports.StrictMode,null,c.exports.createElement(N,null,c.exports.createElement(V,null))),document.getElementById("root"));
